import numpy as np

class Playfield:
    """
    Playfield grid for tetris game

    Attributes:
        pf (numpy.ndarray): 2D NumPy array representing the playfield
    """

    def __init__(self):
        """
        Initializes the Playfield with an empty 20x10 grid
        """
        self.pf = np.zeros((20, 10))
    
    def add_t(self, t):
        """
        Adds a Tetromino to the playfield

        Parameters:
            t (Tetromino): Tetromino added to playfield
        """
        for i in range(t.block.shape[0]):
            for j in range(t.block.shape[1]):
                if t.block[i,j] != 0:
                    self.pf[i+t.r, j+t.c] = t.block[i,j]
    
    def clear_line(self, rows):
        """
        Deletes lines from playfield

        Parameters:
            rows (list): List of row indices to be deleted
        """
        self.pf = np.delete(self.pf, rows, 0)
        self.pf = np.insert(self.pf, np.zeros_like(rows), np.zeros(10), 0)

    def game_over(self):
        """
        Replaces playfield with game over screen
        """
        self.pf = np.array([[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1, 1, 1, 1,-1,-1, 2, 2, 2,-1, 3,-1,-1,-1, 3, 4, 4, 4, 4, 4],
                        [ 1,-1,-1,-1, 1, 2,-1,-1,-1, 2, 3, 3,-1, 3, 3, 4,-1,-1,-1,-1],
                        [ 1,-1,-1,-1,-1, 2,-1,-1,-1, 2, 3,-1, 3,-1, 3, 4,-1,-1,-1,-1],
                        [ 1,-1,-1,-1,-1, 2, 2, 2, 2, 2, 3,-1,-1,-1, 3, 4, 4, 4,-1,-1],
                        [ 1,-1,-1, 1, 1, 2,-1,-1,-1, 2, 3,-1,-1,-1, 3, 4,-1,-1,-1,-1],
                        [ 1,-1,-1,-1, 1, 2,-1,-1,-1, 2, 3,-1,-1,-1, 3, 4,-1,-1,-1,-1],
                        [-1, 1, 1, 1,-1, 2,-1,-1,-1, 2, 3,-1,-1,-1, 3, 4, 4, 4, 4, 4],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1, 5, 5, 5,-1, 6,-1,-1,-1, 6, 7, 7, 7, 7, 7,-1, 1, 1, 1,-1],
                        [ 5,-1,-1,-1, 5, 6,-1,-1,-1, 6, 7,-1,-1,-1,-1, 1,-1,-1,-1, 1],
                        [ 5,-1,-1,-1, 5, 6,-1,-1,-1, 6, 7,-1,-1,-1,-1, 1,-1,-1,-1, 1],
                        [ 5,-1,-1,-1, 5, 6,-1,-1,-1, 6, 7, 7, 7,-1,-1, 1, 1, 1, 1,-1],
                        [ 5,-1,-1,-1, 5, 6,-1,-1,-1, 6, 7,-1,-1,-1,-1, 1,-1, 1,-1,-1],
                        [ 5,-1,-1,-1, 5,-1, 6,-1, 6,-1, 7,-1,-1,-1,-1, 1,-1,-1, 1,-1],
                        [-1, 5, 5, 5,-1,-1,-1, 6,-1,-1, 7, 7, 7, 7, 7, 1,-1,-1,-1, 1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
                        [-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],
        ])